1. 时延、时延抖动等的处理

设置一个缓存队列，经过时间$T$后就按照固定时间间隔把缓存中的分组按先后顺序依次读取。



2. 实时流式协议RTSP

实时流式协议RTSP(Real Time Streaming Protocol)是使媒体播放器能够**控制**多媒体流的传送。它就是一个**多媒体播放控制协议**，RTSP本身并不携带数据。



### 交互式音频与视频

#### IP电话概述

1. **狭义的IP电话**：指的是在IP网络上打电话。

2. **广义上的IP电话**：指的不仅仅是电话通信，而且还可以是在IP网络上进行交互式多媒体实时通信。

#### IP电话的通话质量

IP电话的通话质量主要由两个因素决定：

1. **通话双方端到端的时延与时延抖动**

2. **语音分组的丢失率**

这两个因素都是**不确定**的。取决于当前的通信量。

当网络发生拥塞而产生话音分组丢失的时候，还必须采用一定的策略（称之为**丢失掩蔽算法**）对丢失的话音分组进行处理。



### 实时运输协议RTP

实时运输协议RTP(Real transport protocol)为应用程序提供端到端的运输，但不提供任何服务质量的保证。需要发送的多媒体数据块(音频/视频)经过压缩编码处理后，先送给RTP封装成RTP分组(也可称之为RTP报文)。RTP分组装入运输层的**UDP用户数据报**后，再向下递交给IP层。

注意RTP分组只包含RTP数据，而控制是由另一个配套使用的RTCP协议提供的。RTP端口号在端口**1025~65535之间选择一个未知的偶数UDP端口号**。而在同一次会话中的RTCP则使用的是**下一个奇数UDP端口号**。**但端口5004和5005默认作为RTP和RTCP的端口号**。



#### 实时运输控制协议RTCP

实时运输控制协议RTCP(RTP Control Protocol)是于RTP协议配合起来使用的。

RTCP协议的主要功能：

1. 服务质量的监视与反馈、媒体之间的同步。

2. RTCP报文也使用UDP来传送。

RTCP的五种分组类型

| 类型  | 缩写表示 | 意义    |
| --- | ---- | ----- |
| 200 | SR   | 发送端报告 |
| 201 | RR   | 接收端报告 |
| 202 | SDES | Y源点描述 |
| 203 | BYE  | 结束    |
| 204 | APP  | 特定应用  |

* 结束分组：表示关闭一个数据流

* 特定分组：使应用程序能够定义新的分组类型

* 接收端报告分组：使接收端周期性的向所有的点用**多播**方式进行报告。

* 发送端报告分组：使发送端周期性的向所有接收端用多播方式进行报告。

* 源点描述分组：给出会话中参加者的描述。



#### 服务质量QOS

**服务质量QOS是服务性能的总效果，此效果决定了一个用户对服务的满意程度**。



#### 综合服务IntServ

综合服务的IntServ的局限性

1. 状态信息的数量与流的西悉尼成正比。

2. IntServ体系结构复杂。

3. 综合服务IntServ定义的**服务质量等级太少，不够灵活**。








